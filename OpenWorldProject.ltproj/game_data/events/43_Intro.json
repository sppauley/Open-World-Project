[
    {
        "name": "Intro",
        "trigger": "level_start",
        "level_nid": "43",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "# debugging for tests",
            "#game_var;AnukiLoyal;True",
            "",
            "hide_layer;opentopdoor;immediate",
            "# variables for the map phases",
            "level_var;MapPhase;1",
            "",
            "# bringing back generals",
            "resurrect;Brandt",
            "load_unit;Brandt",
            "add_unit;Brandt;2,23",
            "resurrect;Bordeaux",
            "load_unit;Bordeaux",
            "add_unit;Bordeaux;20,24",
            "remove_skill;Bordeaux;Ruler;no_banner",
            "remove_item;Bordeaux;Horseslayer;;no_banner",
            "give_item;Bordeaux;Silver_Pike;no_banner",
            "autolevel_to;Bordeaux;20",
            "add_tag;Bordeaux;Boss",
            "add_tag;Brandt;Boss",
            "change_ai;Brandt;Defend",
            "change_ai_group;Brandt;a",
            "change_ai;Bordeaux;Defend",
            "change_ai_group;Bordeaux;a",
            "change_team;Bordeaux;enemy",
            "change_team;Brandt;enemy",
            "",
            "#",
            "change_team;Anuki;enemy",
            "show_layer;overlay",
            "arrange_formation",
            "trigger_script;Global GenericPreps",
            "",
            "# if Anuki is loyal, she joins you",
            "if;game.game_vars['AnukiLoyal']==True",
            "    change_team;Anuki;player",
            "    add_unit;Anuki;12,39",
            "else",
            "    add_unit;AnukiBoss;12,10",
            "end"
        ]
    }
]