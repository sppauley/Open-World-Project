[
    {
        "name": "Intro",
        "trigger": "level_start",
        "level_nid": "43",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "# story",
            "remove_group;StartingEnemies",
            "show_layer;libraryintro",
            "load_unit;Morrissey;other",
            "add_unit;Morrissey;11,3",
            "remove_unit;Simon",
            "add_unit;Simon;11,10",
            "move_unit;Simon;11,9",
            "wait;300",
            "move_unit;Simon;11,7",
            "multi_add_portrait;Simon;Left;Morrissey;Right",
            "s;Simon;So what did you want to show me?{w} And why back here?",
            "s;Morrissey;Simon, you truly lack what it takes to rule.{w} Consider this a kindness.",
            "multi_remove_portrait;Simon;Morrissey",
            "add_group;StoryAssassins;StoryAssassins;swoosh",
            "move_unit;Assassin_1;10,6;no_block;no_follow",
            "move_unit;Assassin_2;10,8;no_block;no_follow",
            "move_unit;Assassin_3;12,6;no_block;no_follow",
            "move_unit;Assassin_4;12,8;no_block;no_follow",
            "wait;400",
            "multi_add_portrait;Simon;Left;Morrissey;Right",
            "s;Simon;...{w}{br}Why?{w} Why do this?{w} Especially after all we've done to help you.",
            "s;Morrissey;You've outlived your usefulness, Verstadt.{w}{br}You've certainly helped me secure my rule.{w}{br}And now you're the only threat that remains.",
            "multi_remove_portrait;Simon;Morrissey",
            "move_unit;Assassin_1;11,6;no_block;no_follow",
            "move_unit;Assassin_2;10,7;no_block;no_follow",
            "move_unit;Assassin_3;12,7;no_block;no_follow",
            "move_unit;Assassin_4;11,8;no_block;no_follow",
            "transition;close",
            "sound;Critical Kill",
            "wait;300",
            "sound;Critical Kill",
            "wait;300",
            "sound;Critical Kill",
            "wait;300",
            "sound;Critical Kill",
            "wait;1000",
            "",
            "",
            "# debugging for tests",
            "#game_var;AnukiLoyal;True",
            "",
            "",
            "hide_layer;opentopdoor;immediate",
            "# variables for the map phases",
            "level_var;MapPhase;1",
            "",
            "# bringing back generals",
            "resurrect;Brandt",
            "load_unit;Brandt",
            "add_unit;Brandt;2,23",
            "resurrect;Bordeaux",
            "load_unit;Bordeaux",
            "add_unit;Bordeaux;20,24",
            "remove_skill;Bordeaux;Ruler;no_banner",
            "remove_item;Bordeaux;Horseslayer;;no_banner",
            "give_item;Bordeaux;Silver_Pike;no_banner",
            "autolevel_to;Bordeaux;20",
            "add_tag;Bordeaux;Boss",
            "add_tag;Brandt;Boss",
            "change_ai;Brandt;Defend",
            "change_ai_group;Brandt;a",
            "change_ai;Bordeaux;Defend",
            "change_ai_group;Bordeaux;a",
            "change_team;Bordeaux;enemy",
            "change_team;Brandt;enemy",
            "",
            "#",
            "change_team;Anuki;enemy",
            "show_layer;overlay",
            "arrange_formation",
            "trigger_script;Global GenericPreps",
            "",
            "# if Anuki is loyal, she joins you",
            "if;game.game_vars['AnukiLoyal']==True",
            "    change_team;Anuki;player",
            "    add_unit;Anuki;12,39",
            "else",
            "    add_unit;AnukiBoss;12,10",
            "end"
        ]
    }
]