[
    {
        "name": "CloseDoors",
        "trigger": "unit_wait",
        "level_nid": "33",
        "condition": "any([u.nid != \"Alina\" for u in get_units_in_region('TooCloseLeft', team='player')]) or any([u.nid != \"Alina\" for u in get_units_in_region('TooCloseRight', team='player')])",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "add_portrait;Professor;Right",
            "s;Professor;Rrghh... that's close enough!{w} You!|Seal the gate!",
            "remove_portrait;Professor",
            "",
            "show_layer;Walls",
            "",
            "center_cursor;16,19",
            "add_tag;101;Boss",
            "change_portrait;101;Student",
            "add_unit;101;16,19;fade;push",
            "move_unit;101;16,16;normal;push;no_block",
            "",
            "add_unit;102;15,19;fade;closest",
            "add_unit;103;17,19;fade;closest",
            "add_unit;104;16,19;fade;closest",
            "move_unit;102;15,17;normal;push;no_block;no_follow",
            "move_unit;103;17,17;normal;push;no_block;no_follow",
            "move_unit;104;16,17;normal;push;no_block;no_follow",
            "add_unit;105;16,19;fade;closest",
            "move_unit;105;16,18;normal;push;no_block;no_follow",
            "# Add more reinforcements here",
            "",
            "add_portrait;Student;Right",
            "s;Student;I'll guard you with my life, Professor!",
            "remove_portrait;Student",
            "flicker_cursor;101",
            "wait;500",
            "",
            "center_cursor;Alina",
            "add_portrait;Alina;Left",
            "s;Alina;Stop it!{w} Stop hiding behind your students!",
            "remove_portrait;Alina"
        ]
    }
]