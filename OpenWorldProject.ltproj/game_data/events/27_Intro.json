[
    {
        "name": "Intro",
        "trigger": "level_start",
        "level_nid": "27",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "# skips the scene if you've seen it already",
            "if;game.game_vars['RidgeScene']==1",
            "    win_game",
            "end",
            "",
            "change_background;BlackBackground",
            "speak_style;AtroposTalk;Narrator;center;;;;text-white;bg_black",
            "music;AtroposFinal",
            "",
            "wait;2000",
            "",
            "s;Narrator;For centuries, the same story has played out.{w}{br}Yet, you mortals fail to learn.;StyleNid=AtroposTalk",
            "s;Narrator;Collapse is inevitable.{w}{br}A repeating pattern on my tapestry.;StyleNid=AtroposTalk",
            "add_weather;night",
            "show_layer;overlay",
            "show_layer;roof",
            "center_cursor;12,11",
            "change_background",
            "add_portrait;Moran;Left",
            "s;Moran;What an awful night on the ridge.{w}{br}Those damned dragonlord soldiers won't give us a moment's rest.",
            "remove_portrait;Moran",
            "center_cursor;12,34",
            "wait;200",
            "flicker_cursor;6,33",
            "add_portrait;SoldierRed;Right",
            "s;SoldierRed;Castle Moran will fall today.{w}{br}The dragonlord will lead us to victory!",
            "remove_portrait;SoldierRed",
            "wait;300",
            "center_cursor;Moran",
            "add_portrait;Moran;Left",
            "s;Moran;Let's slow them down, shall we?",
            "remove_portrait;Moran",
            "add_unit;slow;12,12;warp",
            "wait;800",
            "interact_unit;Moran;slow;hit1",
            "map_anim;AOE_Rally;12,12",
            "wait;800",
            "center_cursor;12,34",
            "wait;200",
            "flicker_cursor;19,33",
            "add_portrait;SoldierRed;Right",
            "s;SoldierRed;My feet... {w}I can barely lift them...",
            "wait;200",
            "s;SoldierRed;But I hear the dragonlord's call...{w}{br}We must press forward.",
            "remove_portrait;SoldierRed",
            "center_cursor;12,34",
            "wait;800",
            "move_unit;dragon_1;7,31;no_block",
            "wait;100",
            "move_unit;dragon_3;9,31;no_block",
            "wait;100",
            "move_unit;dragon_2;8,31;no_block",
            "wait;800",
            "move_unit;dragon_8;19,31;no_block",
            "wait;100",
            "move_unit;dragon_6;18,31;no_block",
            "wait;100",
            "move_unit;dragon_9;20,31;no_block",
            "wait;800",
            "center_cursor;Moran",
            "wait;300",
            "add_portrait;Moran;Left",
            "s;Moran;Now to grant us greater dominance over the battlefield.{w}{br}We'll make up the ground necessary to engage them.",
            "remove_portrait;Moran",
            "add_unit;speed;12,12;warp",
            "wait;800",
            "interact_unit;Moran;speed;hit1",
            "map_anim;AOE_Reinforce;12,12",
            "wait;800",
            "add_portrait;Moran;Left",
            "s;Moran;Soldiers, attack!",
            "remove_portrait;Moran",
            "center_cursor;12,34",
            "wait;300",
            "flicker_cursor;5,27",
            "add_portrait;SoldierBlue;Left",
            "s;SoldierBlue;Lady Moran, we will not forsake the strength you have given us!{w}{br}Troops, we ride.",
            "remove_portrait;SoldierBlue",
            "wait;200",
            "move_unit;113;9,29",
            "interact_unit;113;dragon_3;hit1,hit1",
            "move_unit;114;9,30",
            "interact_unit;114;dragon_3;hit1,hit1",
            "move_unit;115;8,30",
            "interact_unit;115;dragon_3;hit1,hit1",
            "move_unit;118;19,30",
            "interact_unit;118;dragon_8;hit1,hit1",
            "move_unit;119;20,30",
            "interact_unit;119;dragon_9;hit1,hit1",
            "move_unit;120;20,29",
            "interact_unit;120;dragon_9;hit1,hit1",
            "wait;800",
            "center_cursor;Moran",
            "add_portrait;Moran;Left",
            "s;Moran;Ha! The dragonlord's armies are weaker than expected.{w}{br}The strength of House Moran is unparalleled!",
            "remove_portrait;Moran",
            "change_background;BlackBackground",
            "wait;200",
            "sound;Heavy Wing Flap",
            "wait;800",
            "sound;Heavy Wing Flap",
            "wait;800",
            "s;Dragonlord;RARGHHHHHHHH!;;;;;red",
            "wait;200",
            "change_background",
            "center_cursor;Moran;immediate",
            "add_portrait;Moran;Left",
            "s;Moran;The dragon...{w}{br}No...{w} this can't be...",
            "remove_portrait;Moran",
            "center_cursor;12,34",
            "sound;FireBall",
            "map_anim;AOE_Fireball;9,31",
            "sound;Critical Kill",
            "map_anim;Snag;8,30;no_block",
            "map_anim;Snag;8,31;no_block",
            "map_anim;Snag;8,32;no_block",
            "map_anim;Snag;9,30;no_block",
            "map_anim;Snag;9,31;no_block",
            "map_anim;Snag;9,32;no_block",
            "map_anim;Snag;10,30;no_block",
            "map_anim;Snag;10,31;no_block",
            "map_anim;Snag;10,32;no_block",
            "#remove_unit;114;immediate",
            "remove_unit;115;immediate",
            "remove_unit;113;immediate",
            "wait;1000",
            "sound;FireBall",
            "map_anim;AOE_Fireball;20,31",
            "sound;Critical Kill",
            "map_anim;Snag;19,30;no_block",
            "map_anim;Snag;19,31;no_block",
            "map_anim;Snag;19,32;no_block",
            "map_anim;Snag;20,30;no_block",
            "map_anim;Snag;20,31;no_block",
            "map_anim;Snag;20,32;no_block",
            "map_anim;Snag;21,30;no_block",
            "map_anim;Snag;21,31;no_block",
            "map_anim;Snag;21,32;no_block",
            "remove_unit;118;immediate",
            "remove_unit;119;immediate",
            "remove_unit;120;immediate",
            "wait;1100",
            "flicker_cursor;114",
            "add_portrait;SoldierBlue;Left",
            "s;SoldierBlue;How...{w} Such might...",
            "remove_portrait;SoldierBlue",
            "wait;500",
            "move_unit;DK_1;9,31",
            "wait;100",
            "sound;Critical Kill",
            "add_weather;fire",
            "center_cursor;Moran",
            "wait;500",
            "add_portrait;Moran;Left",
            "s;Moran;My knights...{w} wiped out in an instant...",
            "s;Moran;Why House Moran?{w}{br}What could the dragonlord want with us?",
            "remove_portrait;Moran",
            "hide_layer;roof",
            "remove_weather;fire",
            "end_skip",
            "add_unit;Simon;10,5;immediate",
            "add_unit;Atropos;9,5;immediate",
            "add_unit;Servant;17,7;immediate",
            "add_unit;Servant_1;18,7;immediate",
            "center_cursor;Simon",
            "wait;300",
            "add_portrait;Simon;Left",
            "s;Simon;A vision from the Fates...",
            "s;Simon;But why?{w} What are you trying to show me?",
            "add_portrait;Atropos;Right",
            "s;Atropos;I merely aim to show the truth.",
            "s;Atropos;You, Simon, do not seem to grasp your circumstances.{w}{br}Do you truly believe you can restore the noble houses?{w}{br}Their fall has long been the fated path, even centuries ago.{w}{br}You mortals behold my tapestry yet fail to comprehend.",
            "s;Atropos;I have woven this moment around you.{w}{br}Behold these final seconds.",
            "multi_remove_portrait;Atropos;Simon",
            "add_talk;Simon;Moran",
            "add_talk;Simon;Atropos",
            "add_talk;Simon;Servant"
        ]
    }
]