[
    {
        "name": "Create Barrier",
        "trigger": "combat_end",
        "level_nid": "6",
        "condition": "True",
        "commands": [
            [
                "if",
                [
                    "game.board.get_unit((8,15)) and game.board.get_unit((8,15)).team == \"enemy\" and game.board.get_unit((8,15)).klass == \"Cleric\""
                ]
            ],
            [
                "level_var",
                [
                    "wallsUp",
                    "True"
                ]
            ],
            [
                "if",
                [
                    "not game.get_unit('101').position"
                ]
            ],
            [
                "center_cursor",
                [
                    "12,6"
                ]
            ],
            [
                "add_unit",
                [
                    "Wall (101)",
                    "12,6",
                    "warp",
                    "push",
                    "FLAG(no_warn)"
                ]
            ],
            [
                "add_unit",
                [
                    "Wall (102)",
                    "13,6",
                    "warp",
                    "push",
                    "FLAG(no_warn)"
                ]
            ],
            [
                "add_unit",
                [
                    "Wall (103)",
                    "12,7",
                    "warp",
                    "push",
                    "FLAG(no_warn)"
                ]
            ],
            [
                "add_unit",
                [
                    "Wall (104)",
                    "13,7",
                    "warp",
                    "push",
                    "FLAG(no_warn)"
                ]
            ],
            [
                "wait",
                [
                    "1000"
                ]
            ],
            [
                "end",
                []
            ],
            [
                "else",
                []
            ],
            [
                "level_var",
                [
                    "wallsUp",
                    "False"
                ]
            ],
            [
                "remove_unit",
                [
                    "Wall (101)"
                ]
            ],
            [
                "remove_unit",
                [
                    "Wall (102)"
                ]
            ],
            [
                "remove_unit",
                [
                    "Wall (103)"
                ]
            ],
            [
                "remove_unit",
                [
                    "Wall (104)"
                ]
            ],
            [
                "end",
                []
            ]
        ],
        "only_once": false,
        "priority": 20
    }
]