[
    {
        "name": "Intro",
        "trigger": "level_start",
        "level_nid": "50",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "change_team;Lachesis;enemy",
            "change_team;Clotho;enemy",
            "change_team;Atropos;enemy",
            "add_tag;Lachesis;Boss",
            "add_tag;Clotho;Boss",
            "add_tag;Atropos;Boss",
            "level_var;NextBlessingFrom;\"Lachesis\"",
            "show_layer;overlay;immediate",
            "",
            "create_record;NumDeathsFinalMap;0",
            "",
            "center_cursor;Clotho;immediate",
            "add_portrait;Clotho;MidRight",
            "s;Clotho;Verstadt... you repugnant beast...",
            "add_portrait;Atropos;Right",
            "add_portrait;Lachesis;FarRight",
            "s;Atropos;Your affection for him went too far.",
            "s;Lachesis;We warned you of this, sister.",
            "s;Clotho;Enough! I will hear no more of this.",
            "",
            "center_cursor;Simon",
            "wait;200",
            "add_portrait;Simon;Left",
            "s;Simon;What... where am I?",
            "s;Atropos;You dare speak? You destroyed our artifacts, severed us, and...|You dare speak?!",
            "s;Simon;How are you...",
            "s;Lachesis;We used the last of our connection to your world to bring you here.",
            "s;Clotho;You defied us, Verstadt, in a way that no mortal has.",
            "s;Atropos;Now you shall suffer in a way that no mortal has.",
            "",
            "level_var;PrepMusic;\"BriefingIII\"",
            "arrange_formation",
            "",
            "s;Clotho;Your allies will not remember how many times they fall.|But you will.|We shall drive you mad with grief.",
            "s;Lachesis;Only when your mind is truly broken will we imprison you.",
            "s;Atropos;Only then will you be allowed to rest.",
            "",
            "s;Simon;Enough!{w} You call yourselves gods, but we have outwitted you.|No matter what happens here today, the world is free of you.|But... we will win. Anuki, Raymond, everyone...|We will slay you!",
            "multi_remove_portrait;Clotho;Lachesis;Atropos;Simon",
            "",
            "trigger_script;Global GenericPreps",
            "",
            "music;Twilight-of-the-Gods;1000",
            "",
            "if;not RECORDS.get(\"NumDeathsFinalMap\")",
            "    center_cursor;Clotho",
            "    add_portrait;Clotho;Right",
            "    s;Clotho;Come forward, blessed one, with all your confidence and might.|And feel yourself succumb, again and again, to us.|How long will that confidence last?",
            "    wait;300",
            "    remove_portrait;Clotho",
            "    center_cursor;Simon",
            "    update_record;NumDeathsFinalMap;1",
            "elif;RECORDS.get(\"NumDeathsFinalMap\") == 1",
            "    center_cursor;Clotho",
            "    add_portrait;Clotho;Right",
            "    s;Clotho;You may think that you can outlast us.{w} Or tire us, or find some way through.|But we are gods.|Once we grow bored of you, you will understand the meaning of futility.",
            "    wait;300",
            "    remove_portrait;Clotho",
            "    center_cursor;Simon",
            "elif;RECORDS.get(\"NumDeathsFinalMap\") == 2",
            "    center_cursor;Clotho",
            "    add_portrait;Clotho;Right",
            "    s;Clotho;You are more childish than I could ever have realized.|My sisters offered you some mercy,|while I deigned to even offer you happiness!|And for you to throw it all away... wasteful!",
            "    wait;300",
            "    remove_portrait;Clotho",
            "    center_cursor;Simon",
            "elif;RECORDS.get(\"NumDeathsFinalMap\") == 3",
            "    center_cursor;Clotho",
            "    add_portrait;Clotho;Right",
            "    s;Clotho;Charge, now. Again, and again.|We will watch you suffer!",
            "    wait;300",
            "    remove_portrait;Clotho",
            "    center_cursor;Simon",
            "end"
        ]
    }
]