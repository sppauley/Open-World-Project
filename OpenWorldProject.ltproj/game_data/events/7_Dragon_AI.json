[
    {
        "name": "Dragon AI",
        "trigger": "turn_change",
        "level_nid": "7",
        "condition": "game.turncount>1",
        "commands": [
            [
                "comment",
                [
                    "# determines fireball location"
                ]
            ],
            [
                "comment",
                [
                    "# picks a random enemy unit"
                ]
            ],
            [
                "comment",
                [
                    "# not a great way to do this that I can see other than a bunch of code spam for each fireball"
                ]
            ],
            [
                "if",
                [
                    "len(get_units_in_region('Zone1', team='player'))>0"
                ]
            ],
            [
                "level_var",
                [
                    "TargetUnit1",
                    "get_units_in_region('Zone1', team='player')[static_random.get_randint(0, len(get_units_in_region('Zone1', team='player'))-1)].nid"
                ]
            ],
            [
                "add_region",
                [
                    "Fireball1",
                    "{eval:(game.get_unit(game.level_vars['TargetUnit1']).position[0]-1,game.get_unit(game.level_vars['TargetUnit1']).position[1]-1)}",
                    "3,3",
                    "normal"
                ]
            ],
            [
                "if",
                [
                    "len(get_units_in_region('Zone2', team='player'))>0"
                ]
            ],
            [
                "level_var",
                [
                    "TargetUnit2",
                    "get_units_in_region('Zone2', team='player')[static_random.get_randint(0, len(get_units_in_region('Zone2', team='player'))-1)].nid"
                ]
            ],
            [
                "add_region",
                [
                    "Fireball2",
                    "{eval:(game.get_unit(game.level_vars['TargetUnit2']).position[0]-1,game.get_unit(game.level_vars['TargetUnit2']).position[1]-1)}",
                    "3,3",
                    "normal"
                ]
            ],
            [
                "end",
                []
            ],
            [
                "comment",
                [
                    "# activates the warning"
                ]
            ],
            [
                "trigger_script",
                [
                    "FireballWarn"
                ]
            ]
        ],
        "only_once": false,
        "priority": 20
    }
]