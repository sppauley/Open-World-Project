[
    {
        "name": "StartBattle",
        "trigger": null,
        "level_nid": "11",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "for;unit;[u for u in game.get_all_units() if u.klass == \"PuzzleCrate\"]",
            "    remove_unit;{unit};immediate;fade;FLAG(no_warn)",
            "endf",
            "for;unit;[u for u in game.get_all_units() if u.team == \"other\"]",
            "    remove_unit;{unit};immediate;fade;FLAG(no_warn)",
            "endf",
            "",
            "show_layer;frontdoor;immediate",
            "show_layer;foyerdoor;immediate",
            "remove_unit;Soldier (115);immediate",
            "remove_unit;Anuki;immediate",
            "",
            "add_tag;Ebert;Boss",
            "",
            "if;v(\"TreasureRaid\")",
            "    add_unit;Lupus;35,19",
            "end",
            "",
            "set_game_board_bounds;12;0;36;19",
            "remove_region;SouthEastPuzzle;FLAG(no_warn)",
            "change_roaming;f",
            "arrange_formation",
            "trigger_script;GenericPreps (Global GenericPreps)",
            "",
            "if;v(\"TreasureRaid\")",
            "    center_cursor;35,19",
            "    flicker_cursor;35,19",
            "    add_portrait;Lupus;Right",
            "    s;Lupus;Looks like I've got that distraction.{w}{br}You won't be disappointed, Simon!",
            "    remove_portrait;Lupus",
            "    remove_unit;Lupus;fade;east",
            "end"
        ]
    }
]