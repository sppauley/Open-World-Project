[
    {
        "name": "ClearPuzzle2",
        "trigger": "unit_wait",
        "level_nid": "23",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 10,
        "_source": [
            "if;v(\"PuzzleCompleted\") and game.board.get_unit((9,18)) and game.board.get_unit((9,18)).nid == \"Simon\"",
            "",
            "remove_group;PuzzleCrates2",
            "show_layer;middlepuzzlecomplete",
            "if;game.board.get_unit((7,14))",
            "    show_layer;middlepuzzlenotop",
            "elif;game.board.get_unit((7,15))",
            "    show_layer;middlepuzzlenomid",
            "else",
            "    show_layer;middlepuzzlenobottom",
            "end",
            "",
            "move_unit;Lupus;7,15;normal;stack",
            "move_unit;Lupus;2,15",
            "sound;Unlock",
            "show_layer;middlechestopen",
            "",
            "move_unit;Lupus;7,15;normal;stack",
            "move_unit;Lupus;7,11",
            "",
            "wait;400",
            "move_unit;Lupus;9,11;swoosh",
            "wait;300",
            "",
            "remove_unit;MidLeft;warp",
            "remove_unit;MidMid;warp",
            "remove_unit;MidRight;warp",
            "",
            "reset;Anuki",
            "remove_skill;Lupus;HiddenFlying;no_banner",
            "",
            "level_var;PuzzleCompleted;False",
            "",
            "end"
        ]
    }
]