[
    {
        "name": "LupusConvo",
        "trigger": "on_talk",
        "level_nid": "0",
        "condition": "unit2.nid == \"Lupus\"",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "if;v(\"SimonLupusTalk\") == 1",
            "move_unit;Simon;15,23",
            "add_portrait;Lupus;FarLeft;mirror",
            "speak;Lupus;All clear?",
            "add_portrait;Simon;Right;right",
            "speak;Simon;Excuse me?",
            "mirror_portrait;Lupus",
            "speak;Lupus;Oh! Err, well.{w} Don't mind me.",
            "mirror_portrait;Lupus",
            "move_portrait;Lupus;OffscreenLeft",
            "move_unit;Lupus;19,6;swoosh;no_follow;no_block",
            "speak;Simon;Hey, wait up!",
            "move_unit;Simon;14,23",
            "speak;Simon;He's gone, damn.",
            "if;v(\"FlowerRecruited\") == True",
            "load_unit;Flower",
            "trigger_script;Global AppearBySimon;Flower",
            "add_portrait;Flower;FarRight",
            "speak;Flower;*grrrr*",
            "move_portrait;Simon;MidRight",
            "mirror_portrait;Simon",
            "speak;Simon;You've got his scent, girl?{w}{br}Lead me to him.",
            "speak;Flower;Awwooooooo!",
            "speak;Simon;North? Fine.",
            "trigger_script;Global ConsolidateToLeader;Flower",
            "remove_portrait;Flower",
            "end",
            "level_var;SimonLupusTalk;2",
            "multi_remove_portrait;Simon;Lupus",
            "elif;v(\"SimonLupusTalk\") == 2",
            "add_portrait;Simon;Left;left",
            "speak;Simon;You were hanging around that store, right?",
            "add_portrait;Lupus;Right",
            "speak;Lupus;What's it to you?",
            "speak;Simon;He mentioned stores nearby being robbed-",
            "speak;Lupus;That's nothing to do with me!",
            "speak;Simon;And I noticed a nice new iron blade under your cloak.",
            "speak;Lupus;Yeah, I saved up!{w}{br}Give me a break!",
            "remove_portrait;Lupus",
            "move_unit;Lupus;29,9;swoosh;no_follow;no_block",
            "speak;Simon;He's eager to run.",
            "remove_portrait;Simon",
            "level_var;SimonLupusTalk;3",
            "else",
            "add_portrait;Lupus;Right;mirror",
            "add_portrait;Simon;Left;left",
            "speak;Simon;I'm not-",
            "mirror_portrait;Lupus",
            "speak;Lupus;Oh, leave me alone!",
            "mirror_portrait;Lupus",
            "move_portrait;Lupus;OffscreenRight",
            "remove_portrait;Lupus",
            "remove_portrait;Simon",
            "move_unit;Lupus;30,8",
            "move_unit;Simon;29,9",
            "sound;Unlock",
            "show_layer;sewersentranceopen",
            "move_unit;Lupus;30,7",
            "remove_unit;Lupus",
            "add_portrait;Simon;Left",
            "speak;Simon;A hidden basement?{w} Hmm...",
            "game_var;LupusLvlUnlocked;True",
            "remove_talk;Simon;Lupus",
            "overworld_cinematic;1",
            "reveal_overworld_node;33;immediate;no_warn",
            "center_cursor;33",
            "reveal_overworld_node;54",
            "reveal_overworld_road;33;54",
            "",
            "win_game",
            "end"
        ]
    }
]