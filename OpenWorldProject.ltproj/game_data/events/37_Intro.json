[
    {
        "name": "Intro",
        "trigger": "level_start",
        "level_nid": "37",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "show_layer;gatewalls;immediate",
            "center_cursor;Simon;immediate",
            "",
            "if;v(\"LiberatedVerstadt\") or v(\"DragonCleared\") or v(\"SwampCleared\")",
            "    # Path to Troy is open, do the battle",
            "    remove_group;RoamGroup;immediate",
            "    trigger_script;Global AppearBySimon;Morrissey",
            "",
            "    add_portrait;Morrissey;MidLeft",
            "    add_portrait;Simon;FarLeft",
            "",
            "    s;Morrissey;Lord Verstadt.{w} Thank you for joining me.|I've arranged passage with the guards ahead.|It is clear to me that we both have business with the king,|and his refusal to officially allow visitors has gone to far.",
            "    multi_remove_portrait;Morrissey;Simon",
            "",
            "    move_unit;Morrissey;10,21;no_block;no_follow",
            "    move_unit;Simon;10,22",
            "",
            "    add_portrait;Mercenary1;Right",
            "    add_portrait;Morrissey;Left",
            "    s;Morrissey;Soldier. The agreed upon amount.",
            "    s;Mercenary1;Heh, thanks.",
            "    move_portrait;Mercenary1;MidLeft",
            "    wait;200",
            "    move_portrait;Mercenary1;Right",
            "",
            "    s;Mercenary1;Open the gates! Official business.",
            "",
            "    hide_layer;gatewalls",
            "",
            "    move_unit;Morrissey;11,11;no_block;no_follow",
            "    move_unit;Simon;11,12",
            "",
            "else",
            "    # Guards turn you away, other interactions",
            "    add_group;RoamGroup;RoamGroup;immediate",
            "    add_talk;Simon;104",
            "    add_talk;Simon;101",
            "    add_talk;Simon;103",
            "end"
        ]
    }
]