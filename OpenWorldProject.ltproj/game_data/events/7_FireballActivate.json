[
    {
        "name": "FireballActivate",
        "trigger": "enemy_turn_change",
        "level_nid": "7",
        "condition": "game.turncount>1",
        "commands": [
            [
                "center_cursor",
                [
                    "12,36"
                ]
            ],
            [
                "wait",
                [
                    "200"
                ]
            ],
            [
                "remove_map_anim",
                [
                    "Square",
                    "{eval:(game.level_vars['FireballLocation'][0],game.level_vars['FireballLocation'][1])}"
                ]
            ],
            [
                "remove_map_anim",
                [
                    "Square",
                    "{eval:(game.level_vars['FireballLocation'][0],game.level_vars['FireballLocation'][1]+1)}"
                ]
            ],
            [
                "remove_map_anim",
                [
                    "Square",
                    "{eval:(game.level_vars['FireballLocation'][0],game.level_vars['FireballLocation'][1]+2)}"
                ]
            ],
            [
                "remove_map_anim",
                [
                    "Square",
                    "{eval:(game.level_vars['FireballLocation'][0]+1,game.level_vars['FireballLocation'][1])}"
                ]
            ],
            [
                "remove_map_anim",
                [
                    "Square",
                    "{eval:(game.level_vars['FireballLocation'][0]+1,game.level_vars['FireballLocation'][1]+1)}"
                ]
            ],
            [
                "remove_map_anim",
                [
                    "Square",
                    "{eval:(game.level_vars['FireballLocation'][0]+1,game.level_vars['FireballLocation'][1]+2)}"
                ]
            ],
            [
                "remove_map_anim",
                [
                    "Square",
                    "{eval:(game.level_vars['FireballLocation'][0]+2,game.level_vars['FireballLocation'][1])}"
                ]
            ],
            [
                "remove_map_anim",
                [
                    "Square",
                    "{eval:(game.level_vars['FireballLocation'][0]+2,game.level_vars['FireballLocation'][1]+1)}"
                ]
            ],
            [
                "remove_map_anim",
                [
                    "Square",
                    "{eval:(game.level_vars['FireballLocation'][0]+2,game.level_vars['FireballLocation'][1]+2)}"
                ]
            ],
            [
                "wait",
                [
                    "700"
                ]
            ],
            [
                "add_region",
                [
                    "Fireball",
                    "{eval:(game.level_vars['FireballLocation'][0],game.level_vars['FireballLocation'][1])}",
                    "3,3",
                    "normal"
                ]
            ],
            [
                "map_anim",
                [
                    "AOE_Meteor",
                    "{eval:(game.level_vars['FireballLocation'][0]+1,game.level_vars['FireballLocation'][1]+1)}"
                ]
            ],
            [
                "map_anim",
                [
                    "AOE_Fireball",
                    "{eval:(game.level_vars['FireballLocation'][0]+1,game.level_vars['FireballLocation'][1]+1)}",
                    "FLAG(no_block)"
                ]
            ],
            [
                "map_anim",
                [
                    "Snag",
                    "{eval:(game.level_vars['FireballLocation'][0],game.level_vars['FireballLocation'][1])}",
                    "FLAG(no_block)"
                ]
            ],
            [
                "map_anim",
                [
                    "Snag",
                    "{eval:(game.level_vars['FireballLocation'][0],game.level_vars['FireballLocation'][1]+1)}",
                    "FLAG(no_block)"
                ]
            ],
            [
                "map_anim",
                [
                    "Snag",
                    "{eval:(game.level_vars['FireballLocation'][0],game.level_vars['FireballLocation'][1]+2)}",
                    "FLAG(no_block)"
                ]
            ],
            [
                "map_anim",
                [
                    "Snag",
                    "{eval:(game.level_vars['FireballLocation'][0]+1,game.level_vars['FireballLocation'][1])}",
                    "FLAG(no_block)"
                ]
            ],
            [
                "map_anim",
                [
                    "Snag",
                    "{eval:(game.level_vars['FireballLocation'][0]+1,game.level_vars['FireballLocation'][1]+1)}",
                    "FLAG(no_block)"
                ]
            ],
            [
                "map_anim",
                [
                    "Snag",
                    "{eval:(game.level_vars['FireballLocation'][0]+1,game.level_vars['FireballLocation'][1]+2)}",
                    "FLAG(no_block)"
                ]
            ],
            [
                "map_anim",
                [
                    "Snag",
                    "{eval:(game.level_vars['FireballLocation'][0]+2,game.level_vars['FireballLocation'][1])}",
                    "FLAG(no_block)"
                ]
            ],
            [
                "map_anim",
                [
                    "Snag",
                    "{eval:(game.level_vars['FireballLocation'][0]+2,game.level_vars['FireballLocation'][1]+1)}",
                    "FLAG(no_block)"
                ]
            ],
            [
                "map_anim",
                [
                    "Snag",
                    "{eval:(game.level_vars['FireballLocation'][0]+2,game.level_vars['FireballLocation'][1]+2)}",
                    "FLAG(no_block)"
                ]
            ],
            [
                "wait",
                [
                    "700"
                ]
            ],
            [
                "loop_units",
                [
                    "[unit for unit in get_units_in_region('Fireball')]",
                    "FireballDamage"
                ]
            ]
        ],
        "only_once": false,
        "priority": 20
    }
]