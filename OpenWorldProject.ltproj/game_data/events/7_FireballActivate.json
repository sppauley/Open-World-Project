[
    {
        "name": "FireballActivate",
        "trigger": "enemy_turn_change",
        "level_nid": "7",
        "condition": "game.turncount>1",
        "commands": [],
        "only_once": false,
        "priority": 0,
        "_source": [
            "# zone1",
            "if;'Fireball1' in [r.nid for r in game.level.regions]",
            "center_cursor;{eval:game.get_region('Fireball1').center}",
            "wait;200",
            "for;POSITION;game.get_region('Fireball1').get_all_positions()",
            "remove_map_anim;Square;{POSITION}",
            "endf",
            "wait;700",
            "sound;FireBall",
            "map_anim;AOE_Meteor;{eval:game.get_region('Fireball1').center}",
            "map_anim;AOE_Fireball;{eval:game.get_region('Fireball1').center};no_block",
            "for;POSITION;game.get_region('Fireball1').get_all_positions()",
            "map_anim;Snag;{POSITION};no_block",
            "endf",
            "wait;700",
            "if;len(get_units_in_region('Fireball1'))>0",
            "loop_units;[unit for unit in get_units_in_region('Fireball1')];FireballDamage",
            "end",
            "remove_region;Fireball1",
            "wait;500",
            "end",
            "# zone2",
            "if;'Fireball2' in [r.nid for r in game.level.regions]",
            "center_cursor;{eval:game.get_region('Fireball2').center}",
            "wait;200",
            "for;POSITION;game.get_region('Fireball2').get_all_positions()",
            "remove_map_anim;Square;{POSITION}",
            "endf",
            "wait;700",
            "sound;FireBall",
            "map_anim;AOE_Meteor;{eval:game.get_region('Fireball2').center}",
            "map_anim;AOE_Fireball;{eval:game.get_region('Fireball2').center};no_block",
            "for;POSITION;game.get_region('Fireball2').get_all_positions()",
            "map_anim;Snag;{POSITION};no_block",
            "endf",
            "wait;700",
            "if;len(get_units_in_region('Fireball2'))>0",
            "loop_units;[unit for unit in get_units_in_region('Fireball2')];FireballDamage",
            "end",
            "remove_region;Fireball2",
            "wait;500",
            "end",
            "# zone3",
            "if;'Fireball3' in [r.nid for r in game.level.regions]",
            "center_cursor;{eval:game.get_region('Fireball3').center}",
            "wait;200",
            "for;POSITION;game.get_region('Fireball3').get_all_positions()",
            "remove_map_anim;Square;{POSITION}",
            "endf",
            "wait;700",
            "sound;FireBall",
            "map_anim;AOE_Meteor;{eval:game.get_region('Fireball3').center}",
            "map_anim;AOE_Fireball;{eval:game.get_region('Fireball3').center};no_block",
            "for;POSITION;game.get_region('Fireball3').get_all_positions()",
            "map_anim;Snag;{POSITION};no_block",
            "endf",
            "wait;700",
            "if;len(get_units_in_region('Fireball3'))>0",
            "loop_units;[unit for unit in get_units_in_region('Fireball3')];FireballDamage",
            "end",
            "remove_region;Fireball3",
            "wait;500",
            "end",
            "# zone4",
            "if;'Fireball4' in [r.nid for r in game.level.regions]",
            "center_cursor;{eval:game.get_region('Fireball4').center}",
            "wait;200",
            "for;POSITION;game.get_region('Fireball4').get_all_positions()",
            "remove_map_anim;Square;{POSITION}",
            "endf",
            "wait;700",
            "sound;FireBall",
            "map_anim;AOE_Meteor;{eval:game.get_region('Fireball4').center}",
            "map_anim;AOE_Fireball;{eval:game.get_region('Fireball4').center};no_block",
            "for;POSITION;game.get_region('Fireball4').get_all_positions()",
            "map_anim;Snag;{POSITION};no_block",
            "endf",
            "wait;700",
            "if;len(get_units_in_region('Fireball4'))>0",
            "loop_units;[unit for unit in get_units_in_region('Fireball4')];FireballDamage",
            "end",
            "remove_region;Fireball4",
            "wait;500",
            "end",
            "# zone5",
            "if;'Fireball5' in [r.nid for r in game.level.regions]",
            "center_cursor;{eval:game.get_region('Fireball5').center}",
            "wait;200",
            "for;POSITION;game.get_region('Fireball5').get_all_positions()",
            "remove_map_anim;Square;{POSITION}",
            "endf",
            "wait;700",
            "sound;FireBall",
            "map_anim;AOE_Meteor;{eval:game.get_region('Fireball5').center}",
            "map_anim;AOE_Fireball;{eval:game.get_region('Fireball5').center};no_block",
            "for;POSITION;game.get_region('Fireball5').get_all_positions()",
            "map_anim;Snag;{POSITION};no_block",
            "endf",
            "wait;700",
            "if;len(get_units_in_region('Fireball5'))>0",
            "loop_units;[unit for unit in get_units_in_region('Fireball5')];FireballDamage",
            "end",
            "remove_region;Fireball5",
            "wait;500",
            "end",
            "# zone6",
            "if;'Fireball6' in [r.nid for r in game.level.regions]",
            "center_cursor;{eval:game.get_region('Fireball6').center}",
            "wait;200",
            "for;POSITION;game.get_region('Fireball6').get_all_positions()",
            "remove_map_anim;Square;{POSITION}",
            "endf",
            "wait;700",
            "sound;FireBall",
            "map_anim;AOE_Meteor;{eval:game.get_region('Fireball6').center}",
            "map_anim;AOE_Fireball;{eval:game.get_region('Fireball6').center};no_block",
            "for;POSITION;game.get_region('Fireball6').get_all_positions()",
            "map_anim;Snag;{POSITION};no_block",
            "endf",
            "wait;700",
            "if;len(get_units_in_region('Fireball6'))>0",
            "loop_units;[unit for unit in get_units_in_region('Fireball6')];FireballDamage",
            "end",
            "remove_region;Fireball6",
            "wait;500",
            "end",
            "# zone7",
            "if;'Fireball7' in [r.nid for r in game.level.regions]",
            "center_cursor;{eval:game.get_region('Fireball7').center}",
            "wait;200",
            "for;POSITION;game.get_region('Fireball7').get_all_positions()",
            "remove_map_anim;Square;{POSITION}",
            "endf",
            "wait;700",
            "sound;FireBall",
            "map_anim;AOE_Meteor;{eval:game.get_region('Fireball7').center}",
            "map_anim;AOE_Fireball;{eval:game.get_region('Fireball7').center};no_block",
            "for;POSITION;game.get_region('Fireball7').get_all_positions()",
            "map_anim;Snag;{POSITION};no_block",
            "endf",
            "wait;700",
            "if;len(get_units_in_region('Fireball7'))>0",
            "loop_units;[unit for unit in get_units_in_region('Fireball7')];FireballDamage",
            "end",
            "remove_region;Fireball7",
            "wait;500",
            "end",
            "# zone8",
            "if;'Fireball8' in [r.nid for r in game.level.regions]",
            "center_cursor;{eval:game.get_region('Fireball8').center}",
            "wait;200",
            "for;POSITION;game.get_region('Fireball8').get_all_positions()",
            "remove_map_anim;Square;{POSITION}",
            "endf",
            "wait;700",
            "sound;FireBall",
            "map_anim;AOE_Meteor;{eval:game.get_region('Fireball8').center}",
            "map_anim;AOE_Fireball;{eval:game.get_region('Fireball8').center};no_block",
            "for;POSITION;game.get_region('Fireball8').get_all_positions()",
            "map_anim;Snag;{POSITION};no_block",
            "endf",
            "wait;700",
            "if;len(get_units_in_region('Fireball8'))>0",
            "loop_units;[unit for unit in get_units_in_region('Fireball8')];FireballDamage",
            "end",
            "remove_region;Fireball8",
            "wait;500",
            "end",
            "# fireball for targeting tomes",
            "if;'Fireball9' in [r.nid for r in game.level.regions]",
            "center_cursor;{eval:game.get_region('Fireball9').center}",
            "wait;200",
            "for;POSITION;game.get_region('Fireball9').get_all_positions()",
            "remove_map_anim;Square;{POSITION}",
            "endf",
            "wait;700",
            "sound;FireBall",
            "map_anim;AOE_Meteor;{eval:game.get_region('Fireball9').center}",
            "map_anim;AOE_Fireball;{eval:game.get_region('Fireball9').center};no_block",
            "for;POSITION;game.get_region('Fireball9').get_all_positions()",
            "map_anim;Snag;{POSITION};no_block",
            "endf",
            "wait;700",
            "if;len(get_units_in_region('Fireball9'))>0",
            "loop_units;[unit for unit in get_units_in_region('Fireball9')];FireballDamage",
            "end",
            "remove_region;Fireball9",
            "wait;500",
            "end"
        ]
    }
]