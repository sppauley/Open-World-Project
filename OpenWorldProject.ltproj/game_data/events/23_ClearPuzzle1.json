[
    {
        "name": "ClearPuzzle1",
        "trigger": "unit_wait",
        "level_nid": "23",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 10,
        "_source": [
            "if;v(\"PuzzleCompleted\") and game.board.get_unit((11,23)) and game.board.get_unit((11,23)).nid == \"Simon\"",
            "",
            "remove_group;PuzzleCrates",
            "show_layer;bottompuzzlecomplete",
            "",
            "move_unit;Lupus;14,24",
            "move_unit;Lupus;15,24;swoosh",
            "move_unit;Lupus;16,24;swoosh",
            "move_unit;Lupus;17,24;swoosh",
            "wait;500",
            "add_portrait;Anuki;FarLeft",
            "s;Anuki;Don't step on my-;no_block",
            "wait;600",
            "move_unit;Lupus;17,19;no_block",
            "s;Anuki;Ow!;no_block",
            "wait;1000",
            "",
            "reset;Anuki",
            "",
            "remove_portrait;Anuki",
            "add_portrait;Lupus;Left",
            "add_portrait;Anuki;Right",
            "s;Lupus;That wasn't too bad!",
            "s;Anuki;...Open the damn barrier.",
            "remove_portrait;Anuki",
            "remove_portrait;Lupus",
            "",
            "move_unit;Lupus;11,19",
            "wait;400",
            "move_unit;Lupus;10,19;swoosh",
            "wait;300",
            "move_unit;Lupus;9,19",
            "",
            "remove_unit;BottomLeft;warp",
            "remove_unit;BottomMid;warp",
            "remove_unit;BottomRight;warp",
            "",
            "wait;400",
            "",
            "move_unit;Anuki;8,21;no_block;no_follow",
            "move_unit;Simon;10,21",
            "add_portrait;Anuki;MidLeft",
            "add_portrait;Simon;FarLeft",
            "add_portrait;Lupus;FarRight",
            "s;Anuki;Did your sister teach you all that?",
            "s;Lupus;Did she teach me how to climb? I guess.{w}{br}But I added my own flair to it.",
            "s;Anuki;Hmm.",
            "",
            "move_unit;Simon;10,16;no_block;no_follow",
            "move_unit;Lupus;8,16;no_block;no_follow",
            "move_unit;Anuki;9,17",
            "",
            "s;Lupus;Honestly, I don't know how she had the time to do it.{w}{br}She was working constantly to...{w}{br}Eh, nevermind. Doesn't matter to you.{w}{br}Boost me up.",
            "move_unit;Anuki;8,17",
            "move_unit;Lupus;8,17;normal;stack",
            "move_unit;Lupus;7,17;swoosh",
            "wait;800",
            "",
            "level_var;PuzzleCompleted;False",
            "",
            "s;Anuki;I wouldn't mind hearing about her.{w}{br}She's the reason we're here, after all.",
            "s;Lupus;That's true.{w} You would've either loved or hated her.",
            "move_unit;Lupus;7,16",
            "s;Lupus;Unlike me, she could actually plan a-",
            "",
            "map_anim;Snag;7,16;no_block",
            "map_anim;Snag;7,15;no_block",
            "map_anim;Snag;7,14;no_block",
            "show_layer;middlewalldestroyed",
            "wait;1100",
            "s;Lupus;...She wouldn't have messed that up, for one.",
            "",
            "flicker_cursor;7,13",
            "s;Anuki;Think I can boost you to the pipe?",
            "s;Lupus;Too high. But...",
            "",
            "center_cursor;6,17",
            "flicker_cursor;6,17",
            "wait;400",
            "",
            "s;Anuki;Did you like stepping on her head too?",
            "move_unit;Lupus;8,16;normal;stack",
            "move_unit;Lupus;8,17;normal;stack",
            "move_unit;Lupus;7,17;swoosh",
            "s;Lupus;Oh, I'll step on any woman's head!",
            "s;Anuki;...",
            "s;Lupus;Heh... heh...",
            "s;Anuki;Simon, hurry up and move the boxes.",
            "multi_remove_portrait;Anuki;Lupus;Simon",
            "",
            "move_unit;Simon;9,18",
            "move_unit;Anuki;10,15",
            "",
            "set_game_board_bounds;0;14;18;18",
            "center_cursor;Anuki",
            "level_var;PuzzleTargets;[(7,16), (7,15), (7,14), (6,15), (5,15), (4,15)]",
            "trigger_script;Global PuzzleSetup",
            "",
            "end"
        ]
    }
]