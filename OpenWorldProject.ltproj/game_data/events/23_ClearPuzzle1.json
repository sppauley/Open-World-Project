[
    {
        "name": "ClearPuzzle1",
        "trigger": "unit_wait",
        "level_nid": "23",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 10,
        "_source": [
            "if;v(\"PuzzleCompleted\") and game.board.get_unit((11,23)) and game.board.get_unit((11,23)).nid == \"Simon\"",
            "",
            "remove_group;PuzzleCrates",
            "show_layer;bottompuzzlecomplete",
            "",
            "move_unit;Lupus;14,24",
            "move_unit;Lupus;15,24;swoosh",
            "move_unit;Lupus;16,24;swoosh",
            "move_unit;Lupus;17,24;swoosh",
            "wait;500",
            "add_portrait;Anuki;FarLeft",
            "s;Anuki;Don't step on my-;no_block",
            "wait;600",
            "move_unit;Lupus;17,19;no_block",
            "s;Anuki;Ow!;no_block",
            "wait;1000",
            "",
            "remove_portrait;Anuki",
            "add_portrait;Lupus;Left",
            "add_portrait;Anuki;Right",
            "s;Lupus;That wasn't too bad!",
            "s;Anuki;...Open the damn barrier.",
            "remove_portrait;Anuki",
            "remove_portrait;Lupus",
            "",
            "move_unit;Lupus;11,19",
            "wait;400",
            "move_unit;Lupus;10,19;swoosh",
            "wait;300",
            "move_unit;Lupus;9,19",
            "",
            "remove_unit;BottomLeft;warp",
            "remove_unit;BottomMid;warp",
            "remove_unit;BottomRight;warp",
            "",
            "move_unit;Anuki;8,21;no_block;no_follow",
            "move_unit;Simon;10,21",
            "add_portrait;Anuki;MidLeft",
            "add_portrait;Simon;FarLeft",
            "add_portrait;Lupus;FarRight",
            "s;Anuki;Did your sister teach you all that?",
            "s;Lupus;Did she teach me climbing? I guess.{w}{br}But I added my own flair to it.",
            "s;Anuki;Hmm.",
            "",
            "move_unit;Simon;10,16;no_block;no_follow",
            "move_unit;Lupus;8,16;no_block;no_follow",
            "move_unit;Anuki;9,17",
            "",
            "reset;Anuki",
            "remove_skill;Lupus;HiddenFlying;no_banner",
            "",
            "level_var;PuzzleCompleted;False",
            "",
            "end"
        ]
    }
]