[
    {
        "name": "Intro",
        "trigger": "level_start",
        "level_nid": "20",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "game_var;freely_exit;True",
            "",
            "remove_all_enemies",
            "show_layer;boat2sunk;immediate",
            "show_layer;boat3sunk;immediate",
            "show_layer;boat4sunk;immediate",
            "show_layer;boat5sunk;immediate",
            "",
            "move_unit;Simon;15,16;immediate",
            "move_unit;Yusna;14,17;immediate",
            "add_unit;Rodger;15,18;immediate",
            "",
            "center_cursor;Rodger",
            "flicker_cursor;Rodger",
            "wait;100",
            "",
            "add_portrait;Simon;MidRight",
            "add_portrait;Yusna;FarRight",
            "add_portrait;Rodger;Left",
            "",
            "music;MoveOut",
            "",
            "s;Rodger;We're right on their tail!{w}{br}Ready boarding parties!",
            "center_cursor;Simon",
            "",
            "remove_portrait;Rodger",
            "remove_portrait;Yusna;immediate",
            "add_portrait;Yusna;Left",
            "",
            "s;Yusna;This is the last of the pirate gangs.{w}{br}If we sink their flagship here, they'll be leaderless.",
            "s;Simon;We're close to their cove. I'm not certain this is the best path.",
            "s;Yusna;Just reset if something goes wrong.{w}{br}Besides, we fought this ship before.",
            "",
            "multi_remove_portrait;Yusna;Simon",
            "",
            "add_unit;Caylus;8,4;immediate",
            "",
            "center_cursor;Caylus",
            "flicker_cursor;Caylus",
            "wait;100",
            "",
            "add_portrait;Caylus;Left",
            "s;Caylus;Ya-har, it's the lordling from 'fore!{w}{br}Guess ol' Bounty's good and gone for sure.",
            "mirror_portrait;Caylus",
            "s;Caylus;'Ey, you! Signal the boys in the cove.{w}{br}Time for the Caylus surprise!",
            "remove_portrait;Caylus",
            "",
            "center_cursor;Rodger",
            "add_portrait;Rodger;Right",
            "music;StalkingMenace",
            "s;Rodger;Damn, ballistas from the cove-{c:wait;400} Anchors?!?!",
            "remove_portrait;Rodger",
            "",
            "hide_layer;boat2sunk;immediate",
            "center_cursor;24,25",
            "",
            "hide_layer;boat3sunk;immediate",
            "center_cursor;6,27",
            "",
            "add_portrait;Rodger;Right",
            "s;Rodger;We're surrounded!{w} All hands, find your weapon and a mate!",
            "remove_portrait;Rodger",
            "",
            "center_cursor;Simon",
            "add_portrait;Simon;MidRight",
            "add_portrait;Yusna;Left",
            "s;Yusna;They were quick... I'm sorry, Simon.",
            "s;Simon;We'll have to stay on the move.{w}{br}We can't let their ballistas fire freely.{w}{br}If we're too slow-",
            "s;Yusna;Tell me in a second.{w} Sorry, Simon.",
            "sound;Ivaldi1",
            "wait;300",
            "sound;Ivaldi2",
            "wait;300",
            "change_background;BlackBackground",
            "",
            "show_layer;boat2sunk;immediate",
            "show_layer;boat3sunk;immediate",
            "wait;700",
            "",
            "change_background",
            "add_portrait;Simon;MidRight;immediate",
            "add_portrait;Yusna;Left;immediate",
            "",
            "music;MoveOut",
            "",
            "s;Simon;WAIT!",
            "s;Yusna;What?",
            "s;Simon;Godsdammit Yusna, don't!{w} You have no right to attack me at will!",
            "s;Yusna;What happened? Did the plan fail?",
            "s;Simon;...We're too close to their cove, in a moment-",
            "multi_remove_portrait;Yusna;Simon",
            "",
            "center_cursor;Rodger",
            "add_portrait;Rodger;Right",
            "music;StalkingMenace",
            "s;Rodger;Damn, ballistas from the cove-{c:wait;400} Anchors?!?!",
            "remove_portrait;Rodger",
            "",
            "hide_layer;boat2sunk;immediate",
            "center_cursor;24,25",
            "",
            "hide_layer;boat3sunk;immediate",
            "center_cursor;6,27",
            "",
            "add_portrait;Rodger;Right",
            "s;Rodger;We're surrounded!{w} All hands, find your weapon and a mate!",
            "remove_portrait;Rodger",
            "",
            "wait;200",
            "",
            "center_cursor;Yusna",
            "add_portrait;Simon;MidRight;immediate",
            "add_portrait;Yusna;Left;immediate",
            "s;Yusna;Go back further this time.",
            "move_unit;Simon;14,17;normal;push",
            "s;Simon;Stop, Yusna!{w} This isn't something I have control over!{w}{br}I can't go back any farther than just a few moments ago!",
            "s;Yusna;I... see.{w} That makes our situation difficult.",
            "s;Simon;You should've asked before you sailed us into a death trap.",
            "s;Yusna;My mistake.",
            "",
            "move_unit;Simon;15,25;no_block",
            "move_unit;Yusna;14,25;no_follow",
            "remove_unit;Rodger",
            "hide_layer;boat4sunk;immediate",
            "hide_layer;boat5sunk;immediate",
            "add_group;EnemyGroup;starting;fade",
            "",
            "wait;300",
            "",
            "s;Simon;I was saying before- we'll need to stay on the move.{w}{br}If those ballistas keep firing, we're dead.",
            "s;Yusna;I know. Let's kill Caylus leave this wreck behind.",
            "multi_remove_portrait;Yusna;Simon",
            "",
            "wait;500",
            "s;Narrator;If Simon's army stands on a ship, Caylus's crew will fire at its hull.;StyleNid=hint",
            "flicker_cursor;Hull1",
            "wait;300",
            "s;Narrator;If the hull is destroyed, the boat will sink, killing ALL non-flying units standing on the ship.;StyleNid=hint",
            "",
            "change_ai;Caylus;Pursue",
            "arrange_formation",
            "game_var;freely_exit;True",
            "trigger_script;Global GenericPreps",
            ""
        ]
    }
]