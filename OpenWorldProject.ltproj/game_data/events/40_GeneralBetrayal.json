[
    {
        "name": "GeneralBetrayal",
        "trigger": "turn_change",
        "level_nid": "40",
        "condition": "game.turncount == 4",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "wait;200",
            "",
            "center_cursor;Adana",
            "",
            "add_unit;149;22,0",
            "",
            "add_portrait;Adana;Right",
            "add_portrait;SoldierBlue;Left",
            "s;SoldierBlue;Sire we've... recovered the king's body.",
            "expression;GenAdana;CloseEyes",
            "s;Adana;Damn it all.",
            "wait;800",
            "s;Adana;What happened?",
            "s;SoldierBlue;He was struck down by one of the beasts.|He held only this.",
            "sound;Unlock",
            "s;Adana;A contraption. This must be what Morrissey promised him.",
            "s;SoldierBlue;We were swarmed as soon as we took it.|The monsters seem to be searching for it.",
            "s;Adana;Then...{w} it can't be.|Men! Lord Morrissey and Verstadt has betrayed the crown!|Kill them and their retinue. No mercy for traitors!",
            "remove_portrait;Adana",
            "",
            "remove_unit;149",
            "",
            "center_cursor;Simon",
            "add_portrait;Simon;Left",
            "s;Simon;The artifact caused this attack?|No... then why would Morrissey send me to...",
            "remove_portrait;Simon",
            "",
            "center_cursor;Adana",
            "add_portrait;Adana;Right",
            "s;Adana;And you, wretched thing...",
            "sound;PromotionCrackle",
            "wait;100",
            "sound;PromotionCrackle",
            "wait;100",
            "sound;PromotionCrackle",
            "s;Adana;Begone!",
            "remove_portrait;Adana",
            "",
            "for;u;[u.nid for u in game.get_all_units() if u.team == \"other\"]",
            "    change_team;{u};enemy",
            "endf",
            "",
            "wait;500",
            "",
            "center_cursor;Simon"
        ]
    }
]