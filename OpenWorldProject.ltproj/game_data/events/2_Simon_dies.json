[
    {
        "name": "Simon dies",
        "trigger": "combat_end",
        "level_nid": "2",
        "condition": "game.check_dead('Simon')",
        "commands": [
            [
                "level_var",
                [
                    "SimonReset",
                    "1"
                ]
            ],
            [
                "transition",
                [
                    "close"
                ]
            ],
            [
                "comment",
                [
                    "#really bad way to do this rn, but this basically removes levels from the main three to force a reset"
                ]
            ],
            [
                "resurrect",
                [
                    "Simon"
                ]
            ],
            [
                "resurrect",
                [
                    "Vincent"
                ]
            ],
            [
                "resurrect",
                [
                    "Luther"
                ]
            ],
            [
                "set_stats",
                [
                    "Simon",
                    "HP,18,STR,4,MAG,0,DEX,9,SPD,10,PSE,6",
                    "FLAG(immediate)"
                ]
            ],
            [
                "set_unit_level",
                [
                    "Simon",
                    "1",
                    "FLAG(no_warn)"
                ]
            ],
            [
                "set_exp",
                [
                    "Simon",
                    "0",
                    "FLAG(no_warn)"
                ]
            ],
            [
                "set_stats",
                [
                    "Vincent",
                    "HP,21,STR,9,DEX,8,SPD,6,PSE,9",
                    "FLAG(immediate)"
                ]
            ],
            [
                "set_unit_level",
                [
                    "Vincent",
                    "1",
                    "FLAG(no_warn)"
                ]
            ],
            [
                "set_exp",
                [
                    "Vincent",
                    "0",
                    "FLAG(no_warn)"
                ]
            ],
            [
                "set_stats",
                [
                    "Luther",
                    "HP,36,STR,5,MAG,0,DEX,16,SPD,5,PSE,18",
                    "FLAG(immediate)"
                ]
            ],
            [
                "set_unit_level",
                [
                    "Luther",
                    "2",
                    "FLAG(no_warn)"
                ]
            ],
            [
                "set_exp",
                [
                    "Luther",
                    "0",
                    "FLAG(no_warn)"
                ]
            ],
            [
                "comment",
                [
                    "#puts the party back at starting points"
                ]
            ],
            [
                "add_unit",
                [
                    "Simon",
                    "27,2",
                    "immediate"
                ]
            ],
            [
                "remove_unit",
                [
                    "Vincent",
                    "immediate"
                ]
            ],
            [
                "add_unit",
                [
                    "Vincent",
                    "28,3",
                    "immediate"
                ]
            ],
            [
                "remove_unit",
                [
                    "Luther",
                    "immediate"
                ]
            ],
            [
                "comment",
                [
                    "#sets up the enemy placement"
                ]
            ],
            [
                "resurrect",
                [
                    "101"
                ]
            ],
            [
                "resurrect",
                [
                    "102"
                ]
            ],
            [
                "resurrect",
                [
                    "103"
                ]
            ],
            [
                "resurrect",
                [
                    "104"
                ]
            ],
            [
                "resurrect",
                [
                    "105"
                ]
            ],
            [
                "resurrect",
                [
                    "106"
                ]
            ],
            [
                "resurrect",
                [
                    "107"
                ]
            ],
            [
                "resurrect",
                [
                    "108"
                ]
            ],
            [
                "resurrect",
                [
                    "110"
                ]
            ],
            [
                "resurrect",
                [
                    "111"
                ]
            ],
            [
                "remove_group",
                [
                    "layer1",
                    "immediate"
                ]
            ],
            [
                "remove_group",
                [
                    "layer2",
                    "immediate"
                ]
            ],
            [
                "add_unit",
                [
                    "101",
                    "15,4",
                    "immediate"
                ]
            ],
            [
                "set_stats",
                [
                    "101",
                    "MOV,0",
                    "FLAG(immediate)"
                ]
            ],
            [
                "add_unit",
                [
                    "102",
                    "23,3",
                    "immediate"
                ]
            ],
            [
                "comment",
                [
                    "#sets the layers"
                ]
            ],
            [
                "show_layer",
                [
                    "layer1",
                    "immediate"
                ]
            ],
            [
                "show_layer",
                [
                    "layer2",
                    "immediate"
                ]
            ],
            [
                "hide_layer",
                [
                    "broken_statue",
                    "immediate"
                ]
            ],
            [
                "hide_layer",
                [
                    "broken_pillar",
                    "immediate"
                ]
            ],
            [
                "hide_layer",
                [
                    "broken_carpet",
                    "immediate"
                ]
            ],
            [
                "comment",
                [
                    "#opens"
                ]
            ],
            [
                "transition",
                [
                    "open"
                ]
            ]
        ],
        "only_once": true,
        "priority": 20
    }
]